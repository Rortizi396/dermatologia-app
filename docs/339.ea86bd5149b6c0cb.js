"use strict";(self.webpackChunkdermatologia_app=self.webpackChunkdermatologia_app||[]).push([[339],{6339:(D,_,c)=>{c.r(_),c.d(_,{AdminAppointmentsComponent:()=>x});var m=c(2200),g=c(9417),P=c(7468),F=c(7673),d=c(3423),l=c(2615),n=c(3664),C=c(547),E=c(8397);function k(i,r){if(1&i){const t=n.RV6();n.j41(0,"button",36),n.bIt("click",function(){l.eBV(t);const e=n.XpG().$implicit,a=n.XpG();return l.Njj(a.openActionModal("confirm",e))}),n.EFF(1,"Confirmar"),n.k0s()}}function M(i,r){if(1&i){const t=n.RV6();n.j41(0,"button",37),n.bIt("click",function(){l.eBV(t);const e=n.XpG().$implicit,a=n.XpG();return l.Njj(a.openActionModal("cancel",e))}),n.EFF(1,"Cancelar"),n.k0s()}}function I(i,r){if(1&i&&(n.j41(0,"tr")(1,"td",27)(2,"div",28),n.EFF(3),n.k0s()(),n.j41(4,"td",29),n.EFF(5),n.k0s(),n.j41(6,"td",30),n.EFF(7),n.k0s(),n.j41(8,"td",31),n.EFF(9),n.k0s(),n.j41(10,"td",32)(11,"span",33),n.EFF(12),n.k0s()(),n.j41(13,"td",15),n.DNE(14,k,2,0,"button",34)(15,M,2,0,"button",35),n.k0s()()),2&i){const t=r.$implicit,o=n.XpG();n.R7$(),n.Y8G("title",(null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh((null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh(o.formatPhone(o.getPhone(t))),n.R7$(2),n.JRh((null==t.especialidadInfo?null:t.especialidadInfo.Nombre)||t.consulta_Especialidad||"-"),n.R7$(),n.Y8G("title",null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(),n.JRh(null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(2),n.Y8G("ngClass",o.getStatusClass(t)),n.R7$(),n.JRh(o.formatEstado(t)),n.R7$(2),n.Y8G("ngIf",o.isPendiente(t)),n.R7$(),n.Y8G("ngIf",o.isPendiente(t))}}function R(i,r){1&i&&(n.j41(0,"tr")(1,"td",38),n.EFF(2,"No hay citas hoy"),n.k0s()())}function j(i,r){if(1&i){const t=n.RV6();n.j41(0,"button",36),n.bIt("click",function(){l.eBV(t);const e=n.XpG().$implicit,a=n.XpG();return l.Njj(a.openActionModal("confirm",e))}),n.EFF(1,"Confirmar"),n.k0s()}}function O(i,r){if(1&i){const t=n.RV6();n.j41(0,"button",37),n.bIt("click",function(){l.eBV(t);const e=n.XpG().$implicit,a=n.XpG();return l.Njj(a.openActionModal("cancel",e))}),n.EFF(1,"Cancelar"),n.k0s()}}function y(i,r){if(1&i&&(n.j41(0,"tr")(1,"td",39),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.j41(4,"td",40),n.EFF(5),n.k0s(),n.j41(6,"td",27)(7,"div",28),n.EFF(8),n.k0s()(),n.j41(9,"td",29),n.EFF(10),n.k0s(),n.j41(11,"td",30),n.EFF(12),n.k0s(),n.j41(13,"td",31),n.EFF(14),n.k0s(),n.j41(15,"td",32)(16,"span",33),n.EFF(17),n.k0s()(),n.j41(18,"td",15),n.DNE(19,j,2,0,"button",34)(20,O,2,0,"button",35),n.k0s()()),2&i){const t=r.$implicit,o=n.XpG();n.R7$(2),n.JRh(n.i5U(3,12,t.fecha,"dd/MM/yyyy")),n.R7$(3),n.JRh(t.numero||t.CitaNumero||"-"),n.R7$(),n.Y8G("title",(null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh((null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh(o.formatPhone(o.getPhone(t))),n.R7$(2),n.JRh((null==t.especialidadInfo?null:t.especialidadInfo.Nombre)||"-"),n.R7$(),n.Y8G("title",null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(),n.JRh(null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(2),n.Y8G("ngClass",o.getStatusClass(t)),n.R7$(),n.JRh(o.formatEstado(t)),n.R7$(2),n.Y8G("ngIf",o.isPendiente(t)),n.R7$(),n.Y8G("ngIf",o.isPendiente(t))}}function $(i,r){1&i&&(n.j41(0,"tr")(1,"td",41),n.EFF(2,"No hay citas pr\xf3ximas"),n.k0s()())}function A(i,r){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td",39),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.j41(4,"td",40),n.EFF(5),n.k0s(),n.j41(6,"td",27)(7,"div",28),n.EFF(8),n.k0s()(),n.j41(9,"td",29),n.EFF(10),n.k0s(),n.j41(11,"td",31),n.EFF(12),n.k0s(),n.j41(13,"td",30),n.EFF(14),n.k0s(),n.j41(15,"td",32)(16,"span",33),n.EFF(17),n.k0s()(),n.j41(18,"td",15)(19,"button",36),n.bIt("click",function(){const e=l.eBV(t).$implicit,a=n.XpG();return l.Njj(a.openActionModal("confirm",e))}),n.EFF(20,"Confirmar"),n.k0s(),n.j41(21,"button",37),n.bIt("click",function(){const e=l.eBV(t).$implicit,a=n.XpG();return l.Njj(a.openActionModal("cancel",e))}),n.EFF(22,"Cancelar"),n.k0s()()()}if(2&i){const t=r.$implicit,o=n.XpG();n.R7$(2),n.JRh(t.fecha?n.i5U(3,10,t.fecha,"dd/MM/yyyy"):"-"),n.R7$(3),n.JRh(t.numero||t.CitaNumero||"-"),n.R7$(),n.Y8G("title",(null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh((null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh(o.formatPhone(o.getPhone(t))),n.R7$(),n.Y8G("title",null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(),n.JRh(null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(2),n.JRh((null==t.especialidadInfo?null:t.especialidadInfo.Nombre)||"-"),n.R7$(2),n.Y8G("ngClass",o.getStatusClass(t)),n.R7$(),n.JRh(o.formatEstado(t))}}function T(i,r){1&i&&(n.j41(0,"tr")(1,"td",41),n.EFF(2,"No hay citas pendientes"),n.k0s()())}function v(i,r){if(1&i&&(n.j41(0,"tr")(1,"td",39),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.j41(4,"td",40),n.EFF(5),n.k0s(),n.j41(6,"td",27)(7,"div",28),n.EFF(8),n.k0s()(),n.j41(9,"td",29),n.EFF(10),n.k0s(),n.j41(11,"td",31),n.EFF(12),n.k0s(),n.j41(13,"td",30),n.EFF(14),n.k0s(),n.j41(15,"td",32)(16,"span",33),n.EFF(17),n.k0s()()()),2&i){const t=r.$implicit,o=n.XpG();n.R7$(2),n.JRh(t.fecha?n.i5U(3,10,t.fecha,"dd/MM/yyyy"):"-"),n.R7$(3),n.JRh(t.numero||t.CitaNumero||"-"),n.R7$(),n.Y8G("title",(null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh((null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh(o.formatPhone(o.getPhone(t))),n.R7$(),n.Y8G("title",null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(),n.JRh(null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(2),n.JRh((null==t.especialidadInfo?null:t.especialidadInfo.Nombre)||"-"),n.R7$(2),n.Y8G("ngClass",o.getStatusClass(t)),n.R7$(),n.JRh(o.formatEstado(t))}}function G(i,r){1&i&&(n.j41(0,"tr")(1,"td",42),n.EFF(2,"No hay citas confirmadas"),n.k0s()())}function L(i,r){if(1&i&&(n.j41(0,"tr")(1,"td",24),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.j41(4,"td",25),n.EFF(5),n.k0s(),n.j41(6,"td",43)(7,"div",28),n.EFF(8),n.k0s()(),n.j41(9,"td",29),n.EFF(10),n.k0s(),n.j41(11,"td",44),n.EFF(12),n.k0s(),n.j41(13,"td",28),n.EFF(14),n.k0s(),n.j41(15,"td",14)(16,"span",33),n.EFF(17),n.k0s()()()),2&i){const t=r.$implicit,o=n.XpG();n.R7$(2),n.JRh(t.fecha?n.i5U(3,10,t.fecha,"dd/MM/yyyy"):"-"),n.R7$(3),n.JRh(t.numero||t.CitaNumero||"-"),n.R7$(),n.Y8G("title",(null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh((null!=t.pacienteInfo&&t.pacienteInfo.nombres?t.pacienteInfo.nombres+" "+(t.pacienteInfo.apellidos||""):t.pacienteNombre||t.paciente||(null==t.pacienteInfo?null:t.pacienteInfo.nombre)||(null==t.pacienteInfo?null:t.pacienteInfo.fullName))||"-"),n.R7$(2),n.JRh(o.formatPhone(o.getPhone(t))),n.R7$(),n.Y8G("title",null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(),n.JRh(null!=t.doctorInfo&&t.doctorInfo.nombres?t.doctorInfo.nombres+" "+(t.doctorInfo.apellidos||""):t.profesional_Responsable||"-"),n.R7$(2),n.JRh((null==t.especialidadInfo?null:t.especialidadInfo.Nombre)||"-"),n.R7$(2),n.Y8G("ngClass",o.getStatusClass(t)),n.R7$(),n.JRh(o.formatEstado(t))}}function Y(i,r){1&i&&(n.j41(0,"tr")(1,"td",42),n.EFF(2,"No hay citas canceladas"),n.k0s()())}function N(i,r){if(1&i){const t=n.RV6();n.j41(0,"div",45)(1,"div",46)(2,"div",47),n.EFF(3,"Confirmar acci\xf3n"),n.k0s(),n.j41(4,"div",6)(5,"p"),n.EFF(6,"Vas a "),n.j41(7,"strong"),n.EFF(8),n.k0s(),n.EFF(9," la cita "),n.j41(10,"strong"),n.EFF(11),n.k0s(),n.EFF(12,"."),n.k0s(),n.j41(13,"div",48)(14,"div"),n.EFF(15),n.nI1(16,"date"),n.k0s(),n.j41(17,"div"),n.EFF(18),n.k0s(),n.j41(19,"div"),n.EFF(20),n.k0s()(),n.j41(21,"div",49)(22,"button",50),n.bIt("click",function(){l.eBV(t);const e=n.XpG();return l.Njj(e.performAction())}),n.EFF(23,"Aceptar"),n.k0s(),n.j41(24,"button",51),n.bIt("click",function(){l.eBV(t);const e=n.XpG();return l.Njj(e.closeActionModal())}),n.EFF(25,"Cerrar"),n.k0s()()()()()}if(2&i){const t=n.XpG();n.R7$(8),n.JRh("confirm"===t.actionType?"confirmar":"cancelar"),n.R7$(3),n.SpI("#",(null==t.actionTarget?null:t.actionTarget.idCitas)||(null==t.actionTarget?null:t.actionTarget.numero)||(null==t.actionTarget?null:t.actionTarget.CitaNumero)||(null==t.actionTarget?null:t.actionTarget.id)),n.R7$(4),n.SpI("Fecha: ",null!=t.actionTarget&&t.actionTarget.fecha?n.i5U(16,7,t.actionTarget.fecha,"dd/MM/yyyy"):"-"),n.R7$(3),n.SpI("Hora: ",(null==t.actionTarget?null:t.actionTarget.hora)||(null==t.actionTarget?null:t.actionTarget.Hora)||"-"),n.R7$(2),n.SpI("Tel\xe9fono paciente: ",t.formatPhone(t.getPhone(t.actionTarget))),n.R7$(2),n.Y8G("disabled",t.actionLoading),n.R7$(2),n.Y8G("disabled",t.actionLoading)}}let x=(()=>{class i{svc;toast;today=new Date;citasHoy=[];citasProximas=[];citasPendientes=[];citasConfirmadas=[];citasCanceladas=[];totalHoy=0;totalProx=0;totalPendientes=0;totalConfirmadas=0;totalCanceladas=0;page=1;limit=50;uiPageHoy=1;uiLimitHoy=10;uiPageProx=1;uiLimitProx=10;uiPagePend=1;uiLimitPend=10;uiPageConf=1;uiLimitConf=10;uiPageCanc=1;uiLimitCanc=10;actionModalOpen=!1;actionType=null;actionTarget=null;actionLoading=!1;constructor(t,o){this.svc=t,this.toast=o}ngOnInit(){this.refreshAll()}refreshAll(){this.loadToday(),this.loadProximas(),this.loadByStatus("pendiente"),this.loadByStatus("confirmada"),this.loadByStatus("cancelada")}toYMD(t){return t.toISOString().slice(0,10)}loadToday(){const t=this.toYMD(new Date);this.svc.getCitasPaged(1,this.limit,t).subscribe({next:o=>{this.citasHoy=(o?.data||[]).map(e=>(0,d.$)(e)),this.fetchMissingDates(this.citasHoy),this.totalHoy=o?.meta?.total??this.citasHoy.length,this.clampPage("hoy")},error:o=>console.error("loadToday",o)})}loadProximas(){const t=new Date;t.setDate(t.getDate()+1);const o=new Date;o.setDate(o.getDate()+7),this.svc.getCitasByRangePaged(this.toYMD(t),this.toYMD(o),1,this.limit).subscribe({next:e=>{this.citasProximas=(e?.data||[]).map(a=>(0,d.$)(a)),this.fetchMissingDates(this.citasProximas),this.totalProx=e?.meta?.total??this.citasProximas.length,this.clampPage("prox")},error:e=>console.error("loadProximas",e)})}loadByStatus(t){this.svc.getCitasByStatusPaged(t,1,this.limit).subscribe({next:o=>{const e=(o?.data||[]).map(a=>(0,d.$)(a));this.fetchMissingDates(e),"pendiente"===t&&(this.citasPendientes=e,this.totalPendientes=o?.meta?.total??e.length,this.clampPage("pend")),"confirmada"===t&&(this.citasConfirmadas=e,this.totalConfirmadas=o?.meta?.total??e.length,this.clampPage("conf")),"cancelada"===t&&(this.citasCanceladas=e,this.totalCanceladas=o?.meta?.total??e.length,this.clampPage("canc"))},error:o=>console.error("loadByStatus",t,o)})}fetchMissingDates(t){if(!Array.isArray(t)||0===t.length)return;const o=t.filter(a=>!!a&&!(!(a.idCitas||a.idcitas||a.id)||a.fecha&&"-"!==a.fecha&&(a.numero??a.CitaNumero??a.Cita_Numero??a.Cita_Num)));if(0===o.length)return;const e=o.map(a=>{const s=a.idCitas??a.idcitas??a.id??null;return s?this.svc.getAppointmentById(s).pipe():(0,F.of)(null)});(0,P.p)(e).subscribe(a=>{a.forEach((s,u)=>{if(!s)return;const p=s&&s.appointment?s.appointment:s;try{const b=p.idCitas??p.idcitas??p.id??null,h=t.findIndex(f=>(f.idCitas??f.idcitas??f.id)==b);if(h>=0){const f=(0,d.$)({...t[h],...p});t[h]=f}}catch(b){console.warn("fetchMissingDates merge failed",b)}})},a=>{console.warn("fetchMissingDates failed",a)})}getPhone(t){return t?t.pacienteInfo?.telefono??t.patientPhone??t.patientphone??t.pacienteTelefono??t.pacientePhone??t.telefono??null:null}formatPhone(t){if(!t&&0!==t)return"-";let o=String(t).trim();if(0===o.length)return"-";const e=o.startsWith("+");if(o=o.replace(/[^0-9]/g,""),0===o.length)return"-";let a=o;if(a.length<=4)return(e?"+":"")+a;const s=a.slice(-4);return(e?"+":"")+a.slice(0,-4)+" "+s}isPendiente(t){if(!t)return!1;const o=t.Confirmado??t.confirmado??t.estado??null;return null==o||("string"==typeof o?o.toLowerCase().includes("pend"):!o)}isConfirmada(t){const o=t.Confirmado??t.confirmado??t.estado??null;return null!=o&&("string"==typeof o&&o.toLowerCase().includes("conf")||!0===o)}isCancelada(t){const o=t.Confirmado??t.confirmado??t.estado??null;return null!=o&&("string"==typeof o&&o.toLowerCase().includes("can")||!1===o)}formatEstado(t){return this.isConfirmada(t)?"Confirmada":this.isCancelada(t)?"Cancelada":"Pendiente"}getStatusClass(t){return this.isConfirmada(t)?"status-confirmada":this.isCancelada(t)?"status-cancelada":"status-pendiente"}listLength(t){switch(t){case"hoy":return this.citasHoy.length;case"prox":return this.citasProximas.length;case"pend":return this.citasPendientes.length;case"conf":return this.citasConfirmadas.length;case"canc":return this.citasCanceladas.length}}getTotalPages(t){const o=this.getUiLimit(t),e=this.listLength(t);return Math.max(1,Math.ceil((e||0)/(o||1)))}getUiLimit(t){switch(t){case"hoy":return this.uiLimitHoy;case"prox":return this.uiLimitProx;case"pend":return this.uiLimitPend;case"conf":return this.uiLimitConf;case"canc":return this.uiLimitCanc}}getUiPage(t){switch(t){case"hoy":return this.uiPageHoy;case"prox":return this.uiPageProx;case"pend":return this.uiPagePend;case"conf":return this.uiPageConf;case"canc":return this.uiPageCanc}}setUiPage(t,o){switch(t){case"hoy":this.uiPageHoy=o;break;case"prox":this.uiPageProx=o;break;case"pend":this.uiPagePend=o;break;case"conf":this.uiPageConf=o;break;case"canc":this.uiPageCanc=o}}setUiLimit(t,o){switch(t){case"hoy":this.uiLimitHoy=o;break;case"prox":this.uiLimitProx=o;break;case"pend":this.uiLimitPend=o;break;case"conf":this.uiLimitConf=o;break;case"canc":this.uiLimitCanc=o}}clampPage(t){const o=this.getTotalPages(t),e=this.getUiPage(t)||1;e>o&&this.setUiPage(t,o),e<1&&this.setUiPage(t,1)}prevPage(t){const o=this.getUiPage(t)||1;o>1&&this.setUiPage(t,o-1)}nextPage(t){const o=this.getUiPage(t)||1;o<this.getTotalPages(t)&&this.setUiPage(t,o+1)}changeLimit(t,o){const e=Number(o)||10;this.setUiLimit(t,e),this.setUiPage(t,1)}openActionModal(t,o){this.actionType=t;const e=o?.idCitas??o?.idcitas??o?.id??o?.Id??o?.CitaId??o?.citaId??null;!e||o?.fecha||o?.Fecha||o?.hora||o?.Hora?(this.actionTarget=(0,d.$)(o),this.actionModalOpen=!0):(this.actionLoading=!0,this.svc.getAppointmentById(e).subscribe({next:a=>{try{const s=a&&a.appointment?a.appointment:a,u={...o,...s};this.actionTarget=(0,d.$)(u)}catch(s){console.warn("Failed to merge appointment details",s),this.actionTarget=(0,d.$)(o)}this.actionLoading=!1,this.actionModalOpen=!0},error:a=>{console.warn("Failed to fetch full appointment details",a),this.actionLoading=!1,this.actionTarget=(0,d.$)(o),this.actionModalOpen=!0}}))}closeActionModal(){this.actionModalOpen=!1,this.actionType=null,this.actionTarget=null,this.actionLoading=!1}performAction(){if(!this.actionType||!this.actionTarget)return;this.actionLoading=!0;const t=this.actionTarget.idCitas??this.actionTarget.id??this.actionTarget.Id??this.actionTarget.CitaId??this.actionTarget.citaId;if(!t)return this.toast.show("ID de cita no encontrado","error",3e3),void(this.actionLoading=!1);("confirm"===this.actionType?this.svc.confirmAppointment(t):this.svc.cancelAppointment(t)).subscribe({next:()=>{this.toast.show("confirm"===this.actionType?"Cita confirmada":"Cita cancelada","success",2500),this.actionLoading=!1,this.closeActionModal(),this.refreshAll()},error:e=>{console.error("performAction",e),this.toast.show("Error al procesar la acci\xf3n: "+(e?.error?.message||e?.message||e.statusText||"Error"),"error",5e3),this.actionLoading=!1}})}min(t,o){return Math.min(t,o)}static \u0275fac=function(o){return new(o||i)(n.rXU(C.h),n.rXU(E.f))};static \u0275cmp=n.VBU({type:i,selectors:[["app-admin-appointments"]],decls:250,vars:95,consts:[[1,"admin-appointments","p-2"],[1,"grid"],[1,"card","ficha"],[1,"card-header","card-header--brand"],[1,"muted"],[1,"badge"],[1,"card-body"],[1,"section-subtitle"],[1,"table-scroll"],[1,"table","table-sm","mb-1","app-table","app-table--minwidth"],[1,"col-patient"],[1,"col-phone"],[1,"col-spec"],[1,"col-doctor"],[1,"col-status"],[1,"col-actions"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"table-footer"],[1,"pager"],[1,"btn","btn-ghost",3,"click","disabled"],[1,"page-size"],[3,"ngModelChange","ngModel"],[3,"ngValue"],[1,"col-date"],[1,"col-num"],["class","modal-overlay",4,"ngIf"],["data-label","Paciente",1,"patient-cell",3,"title"],[1,"text-wrap"],["data-label","Tel\xe9fono",1,"col-phone"],["data-label","Especialidad",1,"text-wrap"],["data-label","Doctor",1,"doctor-cell","text-wrap",3,"title"],["data-label","Estado",1,"col-status"],[1,"status-badge",3,"ngClass"],["type","button","class","btn btn-sm btn-accept me-1",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-cancel",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-accept","me-1",3,"click"],["type","button",1,"btn","btn-sm","btn-cancel",3,"click"],["colspan","6",1,"text-center","text-muted"],["data-label","Fecha",1,"col-date"],["data-label","N\xfamero",1,"col-num"],["colspan","8",1,"text-center","text-muted"],["colspan","7",1,"text-center","text-muted"],[1,"patient-cell",3,"title"],[1,"doctor-cell","text-wrap",3,"title"],[1,"modal-overlay"],[1,"modal","card"],[1,"card-header"],[1,"mb-2","small","text-muted"],[1,"card-footer"],["type","button",1,"btn","btn-sm","btn-accept","me-2",3,"click","disabled"],["type","button",1,"btn","btn-sm","btn-secondary",3,"click","disabled"]],template:function(o,e){1&o&&(n.j41(0,"div",0)(1,"h3"),n.EFF(2,"Administraci\xf3n de citas"),n.k0s(),n.j41(3,"div",1)(4,"section",2)(5,"header",3),n.EFF(6,"Hoy "),n.j41(7,"small",4),n.EFF(8),n.nI1(9,"date"),n.k0s(),n.j41(10,"span",5),n.EFF(11),n.k0s()(),n.j41(12,"div",6)(13,"div",7),n.EFF(14),n.k0s(),n.j41(15,"div",8)(16,"table",9)(17,"thead")(18,"tr")(19,"th",10),n.EFF(20,"Paciente"),n.k0s(),n.j41(21,"th",11),n.EFF(22,"Tel\xe9fono"),n.k0s(),n.j41(23,"th",12),n.EFF(24,"Especialidad"),n.k0s(),n.j41(25,"th",13),n.EFF(26,"Doctor"),n.k0s(),n.j41(27,"th",14),n.EFF(28,"Estado"),n.k0s(),n.j41(29,"th",15),n.EFF(30,"Acciones"),n.k0s()()(),n.j41(31,"tbody"),n.DNE(32,I,16,10,"tr",16),n.nI1(33,"slice"),n.DNE(34,R,3,0,"tr",17),n.k0s()()(),n.j41(35,"div",18)(36,"div",19)(37,"button",20),n.bIt("click",function(){return e.prevPage("hoy")}),n.EFF(38,"Anterior"),n.k0s(),n.j41(39,"span"),n.EFF(40),n.k0s(),n.j41(41,"button",20),n.bIt("click",function(){return e.nextPage("hoy")}),n.EFF(42,"Siguiente"),n.k0s()(),n.j41(43,"div",21)(44,"label"),n.EFF(45,"Por p\xe1gina"),n.k0s(),n.j41(46,"select",22),n.bIt("ngModelChange",function(s){return e.changeLimit("hoy",s)}),n.j41(47,"option",23),n.EFF(48,"10"),n.k0s(),n.j41(49,"option",23),n.EFF(50,"20"),n.k0s(),n.j41(51,"option",23),n.EFF(52,"50"),n.k0s()()()()()(),n.j41(53,"section",2)(54,"header",3),n.EFF(55,"Pr\xf3ximos 7 d\xedas "),n.j41(56,"span",5),n.EFF(57),n.k0s()(),n.j41(58,"div",6)(59,"div",7),n.EFF(60),n.k0s(),n.j41(61,"div",8)(62,"table",9)(63,"thead")(64,"tr")(65,"th",24),n.EFF(66,"Fecha"),n.k0s(),n.j41(67,"th",25),n.EFF(68,"N\xfamero"),n.k0s(),n.j41(69,"th",10),n.EFF(70,"Paciente"),n.k0s(),n.j41(71,"th",11),n.EFF(72,"Tel\xe9fono"),n.k0s(),n.j41(73,"th",12),n.EFF(74,"Especialidad"),n.k0s(),n.j41(75,"th",13),n.EFF(76,"Doctor"),n.k0s(),n.j41(77,"th",14),n.EFF(78,"Estado"),n.k0s(),n.j41(79,"th",15),n.EFF(80,"Acciones"),n.k0s()()(),n.j41(81,"tbody"),n.DNE(82,y,21,15,"tr",16),n.nI1(83,"slice"),n.DNE(84,$,3,0,"tr",17),n.k0s()()(),n.j41(85,"div",18)(86,"div",19)(87,"button",20),n.bIt("click",function(){return e.prevPage("prox")}),n.EFF(88,"Anterior"),n.k0s(),n.j41(89,"span"),n.EFF(90),n.k0s(),n.j41(91,"button",20),n.bIt("click",function(){return e.nextPage("prox")}),n.EFF(92,"Siguiente"),n.k0s()(),n.j41(93,"div",21)(94,"label"),n.EFF(95,"Por p\xe1gina"),n.k0s(),n.j41(96,"select",22),n.bIt("ngModelChange",function(s){return e.changeLimit("prox",s)}),n.j41(97,"option",23),n.EFF(98,"10"),n.k0s(),n.j41(99,"option",23),n.EFF(100,"20"),n.k0s(),n.j41(101,"option",23),n.EFF(102,"50"),n.k0s()()()()()(),n.j41(103,"section",2)(104,"header",3),n.EFF(105,"Pendientes "),n.j41(106,"span",5),n.EFF(107),n.k0s()(),n.j41(108,"div",6)(109,"div",7),n.EFF(110),n.k0s(),n.j41(111,"div",8)(112,"table",9)(113,"thead")(114,"tr")(115,"th",24),n.EFF(116,"Fecha"),n.k0s(),n.j41(117,"th",25),n.EFF(118,"N\xfamero"),n.k0s(),n.j41(119,"th",10),n.EFF(120,"Paciente"),n.k0s(),n.j41(121,"th",11),n.EFF(122,"Tel\xe9fono"),n.k0s(),n.j41(123,"th",13),n.EFF(124,"Doctor"),n.k0s(),n.j41(125,"th",12),n.EFF(126,"Especialidad"),n.k0s(),n.j41(127,"th",14),n.EFF(128,"Estado"),n.k0s(),n.j41(129,"th",15),n.EFF(130,"Acciones"),n.k0s()()(),n.j41(131,"tbody"),n.DNE(132,A,23,13,"tr",16),n.nI1(133,"slice"),n.DNE(134,T,3,0,"tr",17),n.k0s()()(),n.j41(135,"div",18)(136,"div",19)(137,"button",20),n.bIt("click",function(){return e.prevPage("pend")}),n.EFF(138,"Anterior"),n.k0s(),n.j41(139,"span"),n.EFF(140),n.k0s(),n.j41(141,"button",20),n.bIt("click",function(){return e.nextPage("pend")}),n.EFF(142,"Siguiente"),n.k0s()(),n.j41(143,"div",21)(144,"label"),n.EFF(145,"Por p\xe1gina"),n.k0s(),n.j41(146,"select",22),n.bIt("ngModelChange",function(s){return e.changeLimit("pend",s)}),n.j41(147,"option",23),n.EFF(148,"10"),n.k0s(),n.j41(149,"option",23),n.EFF(150,"20"),n.k0s(),n.j41(151,"option",23),n.EFF(152,"50"),n.k0s()()()()()(),n.j41(153,"section",2)(154,"header",3),n.EFF(155,"Confirmadas "),n.j41(156,"span",5),n.EFF(157),n.k0s()(),n.j41(158,"div",6)(159,"div",7),n.EFF(160),n.k0s(),n.j41(161,"div",8)(162,"table",9)(163,"thead")(164,"tr")(165,"th",24),n.EFF(166,"Fecha"),n.k0s(),n.j41(167,"th",25),n.EFF(168,"N\xfamero"),n.k0s(),n.j41(169,"th",10),n.EFF(170,"Paciente"),n.k0s(),n.j41(171,"th",11),n.EFF(172,"Tel\xe9fono"),n.k0s(),n.j41(173,"th",13),n.EFF(174,"Doctor"),n.k0s(),n.j41(175,"th",12),n.EFF(176,"Especialidad"),n.k0s(),n.j41(177,"th",14),n.EFF(178,"Estado"),n.k0s()()(),n.j41(179,"tbody"),n.DNE(180,v,18,13,"tr",16),n.nI1(181,"slice"),n.DNE(182,G,3,0,"tr",17),n.k0s()()(),n.j41(183,"div",18)(184,"div",19)(185,"button",20),n.bIt("click",function(){return e.prevPage("conf")}),n.EFF(186,"Anterior"),n.k0s(),n.j41(187,"span"),n.EFF(188),n.k0s(),n.j41(189,"button",20),n.bIt("click",function(){return e.nextPage("conf")}),n.EFF(190,"Siguiente"),n.k0s()(),n.j41(191,"div",21)(192,"label"),n.EFF(193,"Por p\xe1gina"),n.k0s(),n.j41(194,"select",22),n.bIt("ngModelChange",function(s){return e.changeLimit("conf",s)}),n.j41(195,"option",23),n.EFF(196,"10"),n.k0s(),n.j41(197,"option",23),n.EFF(198,"20"),n.k0s(),n.j41(199,"option",23),n.EFF(200,"50"),n.k0s()()()()()(),n.j41(201,"section",2)(202,"header",3),n.EFF(203,"Canceladas "),n.j41(204,"span",5),n.EFF(205),n.k0s()(),n.j41(206,"div",6)(207,"div",7),n.EFF(208),n.k0s(),n.j41(209,"div",8)(210,"table",9)(211,"thead")(212,"tr")(213,"th",24),n.EFF(214,"Fecha"),n.k0s(),n.j41(215,"th",25),n.EFF(216,"N\xfamero"),n.k0s(),n.j41(217,"th",10),n.EFF(218,"Paciente"),n.k0s(),n.j41(219,"th",11),n.EFF(220,"Tel\xe9fono"),n.k0s(),n.j41(221,"th",13),n.EFF(222,"Doctor"),n.k0s(),n.j41(223,"th",12),n.EFF(224,"Especialidad"),n.k0s(),n.j41(225,"th",14),n.EFF(226,"Estado"),n.k0s()()(),n.j41(227,"tbody"),n.DNE(228,L,18,13,"tr",16),n.nI1(229,"slice"),n.DNE(230,Y,3,0,"tr",17),n.k0s()()(),n.j41(231,"div",18)(232,"div",19)(233,"button",20),n.bIt("click",function(){return e.prevPage("canc")}),n.EFF(234,"Anterior"),n.k0s(),n.j41(235,"span"),n.EFF(236),n.k0s(),n.j41(237,"button",20),n.bIt("click",function(){return e.nextPage("canc")}),n.EFF(238,"Siguiente"),n.k0s()(),n.j41(239,"div",21)(240,"label"),n.EFF(241,"Por p\xe1gina"),n.k0s(),n.j41(242,"select",22),n.bIt("ngModelChange",function(s){return e.changeLimit("canc",s)}),n.j41(243,"option",23),n.EFF(244,"10"),n.k0s(),n.j41(245,"option",23),n.EFF(246,"20"),n.k0s(),n.j41(247,"option",23),n.EFF(248,"50"),n.k0s()()()()()()(),n.DNE(249,N,26,10,"div",26),n.k0s()),2&o&&(n.R7$(8),n.SpI("(",n.i5U(9,72,e.today,"dd/MM/yyyy"),")"),n.R7$(3),n.JRh(e.totalHoy),n.R7$(3),n.E5c("Mostrando ",(e.uiPageHoy-1)*e.uiLimitHoy+1,"\u2013",e.min(e.uiPageHoy*e.uiLimitHoy,e.citasHoy.length)," de ",e.citasHoy.length),n.R7$(18),n.Y8G("ngForOf",n.brH(33,75,e.citasHoy,(e.uiPageHoy-1)*e.uiLimitHoy,e.uiPageHoy*e.uiLimitHoy)),n.R7$(2),n.Y8G("ngIf",0===e.citasHoy.length),n.R7$(3),n.Y8G("disabled",1===e.uiPageHoy),n.R7$(3),n.Lme("P\xe1gina ",e.uiPageHoy," de ",e.getTotalPages("hoy")),n.R7$(),n.Y8G("disabled",e.uiPageHoy>=e.getTotalPages("hoy")),n.R7$(5),n.Y8G("ngModel",e.uiLimitHoy),n.R7$(),n.Y8G("ngValue",10),n.R7$(2),n.Y8G("ngValue",20),n.R7$(2),n.Y8G("ngValue",50),n.R7$(6),n.JRh(e.totalProx),n.R7$(3),n.E5c("Mostrando ",(e.uiPageProx-1)*e.uiLimitProx+1,"\u2013",e.min(e.uiPageProx*e.uiLimitProx,e.citasProximas.length)," de ",e.citasProximas.length),n.R7$(22),n.Y8G("ngForOf",n.brH(83,79,e.citasProximas,(e.uiPageProx-1)*e.uiLimitProx,e.uiPageProx*e.uiLimitProx)),n.R7$(2),n.Y8G("ngIf",0===e.citasProximas.length),n.R7$(3),n.Y8G("disabled",1===e.uiPageProx),n.R7$(3),n.Lme("P\xe1gina ",e.uiPageProx," de ",e.getTotalPages("prox")),n.R7$(),n.Y8G("disabled",e.uiPageProx>=e.getTotalPages("prox")),n.R7$(5),n.Y8G("ngModel",e.uiLimitProx),n.R7$(),n.Y8G("ngValue",10),n.R7$(2),n.Y8G("ngValue",20),n.R7$(2),n.Y8G("ngValue",50),n.R7$(6),n.JRh(e.totalPendientes),n.R7$(3),n.E5c("Mostrando ",(e.uiPagePend-1)*e.uiLimitPend+1,"\u2013",e.min(e.uiPagePend*e.uiLimitPend,e.citasPendientes.length)," de ",e.citasPendientes.length),n.R7$(22),n.Y8G("ngForOf",n.brH(133,83,e.citasPendientes,(e.uiPagePend-1)*e.uiLimitPend,e.uiPagePend*e.uiLimitPend)),n.R7$(2),n.Y8G("ngIf",0===e.citasPendientes.length),n.R7$(3),n.Y8G("disabled",1===e.uiPagePend),n.R7$(3),n.Lme("P\xe1gina ",e.uiPagePend," de ",e.getTotalPages("pend")),n.R7$(),n.Y8G("disabled",e.uiPagePend>=e.getTotalPages("pend")),n.R7$(5),n.Y8G("ngModel",e.uiLimitPend),n.R7$(),n.Y8G("ngValue",10),n.R7$(2),n.Y8G("ngValue",20),n.R7$(2),n.Y8G("ngValue",50),n.R7$(6),n.JRh(e.totalConfirmadas),n.R7$(3),n.E5c("Mostrando ",(e.uiPageConf-1)*e.uiLimitConf+1,"\u2013",e.min(e.uiPageConf*e.uiLimitConf,e.citasConfirmadas.length)," de ",e.citasConfirmadas.length),n.R7$(20),n.Y8G("ngForOf",n.brH(181,87,e.citasConfirmadas,(e.uiPageConf-1)*e.uiLimitConf,e.uiPageConf*e.uiLimitConf)),n.R7$(2),n.Y8G("ngIf",0===e.citasConfirmadas.length),n.R7$(3),n.Y8G("disabled",1===e.uiPageConf),n.R7$(3),n.Lme("P\xe1gina ",e.uiPageConf," de ",e.getTotalPages("conf")),n.R7$(),n.Y8G("disabled",e.uiPageConf>=e.getTotalPages("conf")),n.R7$(5),n.Y8G("ngModel",e.uiLimitConf),n.R7$(),n.Y8G("ngValue",10),n.R7$(2),n.Y8G("ngValue",20),n.R7$(2),n.Y8G("ngValue",50),n.R7$(6),n.JRh(e.totalCanceladas),n.R7$(3),n.E5c("Mostrando ",(e.uiPageCanc-1)*e.uiLimitCanc+1,"\u2013",e.min(e.uiPageCanc*e.uiLimitCanc,e.citasCanceladas.length)," de ",e.citasCanceladas.length),n.R7$(20),n.Y8G("ngForOf",n.brH(229,91,e.citasCanceladas,(e.uiPageCanc-1)*e.uiLimitCanc,e.uiPageCanc*e.uiLimitCanc)),n.R7$(2),n.Y8G("ngIf",0===e.citasCanceladas.length),n.R7$(3),n.Y8G("disabled",1===e.uiPageCanc),n.R7$(3),n.Lme("P\xe1gina ",e.uiPageCanc," de ",e.getTotalPages("canc")),n.R7$(),n.Y8G("disabled",e.uiPageCanc>=e.getTotalPages("canc")),n.R7$(5),n.Y8G("ngModel",e.uiLimitCanc),n.R7$(),n.Y8G("ngValue",10),n.R7$(2),n.Y8G("ngValue",20),n.R7$(2),n.Y8G("ngValue",50),n.R7$(2),n.Y8G("ngIf",e.actionModalOpen))},dependencies:[m.MD,m.YU,m.Sq,m.bT,g.YN,g.xH,g.y7,g.wz,g.BC,g.vS,m.P9,m.vh],styles:[".fichas-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}[_ngcontent-%COMP%]:root{--brand-50: #eaf7ed;--brand-100: #d4f0d9;--brand-300: #9fe0a9;--brand-500: #53c06f;--brand-600: #45b665;--brand-700: #3a9e55;--muted-600: #6b8f76;--success-500: var(--brand-500);--danger-500: #ef4444}@media (min-width: 900px){.fichas-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.ficha-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:1rem;box-shadow:0 6px 18px #1018280f;border:1px solid rgba(16,24,40,.04);display:flex;flex-direction:column;min-height:120px}.ficha-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;margin-bottom:.5rem}.ficha-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.05rem;color:#111827}.ficha-sub[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.table-wrapper[_ngcontent-%COMP%]{overflow:auto}table.app-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;font-size:.95rem}table.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem .9rem;text-align:left;border-bottom:1px solid rgba(15,23,42,.06);vertical-align:middle}table.app-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{min-height:56px}table.app-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.app-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{line-height:1.4}.patient-cell[_ngcontent-%COMP%]{font-weight:600;color:#0f172a}.table-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.btn-accept[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%], .btn-ghost[_ngcontent-%COMP%]{padding:.35rem .6rem;border-radius:6px;cursor:pointer}.btn-accept[_ngcontent-%COMP%]{background:#9fe0a9;color:#fff;border:1px solid rgba(0,0,0,.06)}.btn-accept[_ngcontent-%COMP%]:hover{filter:brightness(.98)}.btn-accept[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn-cancel[_ngcontent-%COMP%]{background:#ef4444;color:#fff;border:1px solid rgba(0,0,0,.06)}.btn-cancel[_ngcontent-%COMP%]:hover{filter:brightness(.98)}.btn-cancel[_ngcontent-%COMP%]:active{transform:translateY(1px)}.btn-ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(15,23,42,.06);padding:.35rem .6rem;border-radius:6px}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#02061780;display:flex;align-items:center;justify-content:center;z-index:1100}.modal[_ngcontent-%COMP%]{background:#fff;padding:1rem;border-radius:8px;width:420px;max-width:calc(100% - 32px);box-shadow:0 12px 32px #02061729}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:1rem}@media (min-width: 900px){.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.card.ficha[_ngcontent-%COMP%]{padding:0;border-radius:8px;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:.8rem 1rem;background:linear-gradient(180deg,#f8fafc,#f1f5f9);font-weight:600;display:flex;align-items:center;justify-content:space-between}.card-body[_ngcontent-%COMP%]{padding:.6rem .9rem}table.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background:#f8fafc;z-index:5;padding:.8rem .9rem;text-align:left;border-bottom:1px solid rgba(15,23,42,.08)}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem .9rem;vertical-align:middle;border-bottom:1px solid rgba(15,23,42,.04)}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#0f172a05}table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#0206170a}.badge[_ngcontent-%COMP%]{display:inline-block;background:var(--brand-50);color:var(--brand-500);padding:.18rem .5rem;border-radius:999px;font-size:.82rem;font-weight:600}.btn-sm[_ngcontent-%COMP%]{padding:.28rem .5rem;font-size:.82rem}.btn-accept[_ngcontent-%COMP%], .btn-cancel[_ngcontent-%COMP%], .btn-ghost[_ngcontent-%COMP%]{border-radius:6px}.admin-appointments[_ngcontent-%COMP%]   .btn-accept[_ngcontent-%COMP%]{background:#9fe0a9!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}.admin-appointments[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#ef4444!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}.btn-ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid rgba(15,23,42,.06)}@media (max-width: 720px){table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}table.table[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;width:100%}table.table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{margin-bottom:.75rem;background:#fff;border-radius:8px;box-shadow:0 6px 14px #0206170a;padding:.6rem}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.45rem .6rem;border-bottom:none}table.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);display:block;font-weight:700;color:var(--muted-600);margin-bottom:.18rem}}.modal.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:.6rem .8rem;font-weight:700}.modal.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.8rem}.modal.card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.6rem;padding-top:.6rem}[_nghost-%COMP%]   .btn-accept[_ngcontent-%COMP%]{background:#9fe0a9!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:#ef4444!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}[_nghost-%COMP%]   .badge[_ngcontent-%COMP%]{background:var(--brand-50)!important;color:var(--brand-700)!important}[_nghost-%COMP%]     .btn-cancel{background:#ef4444!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}[_nghost-%COMP%]     .btn-accept{background:#9fe0a9!important;color:#fff!important}table.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f8fafc!important;color:#0f172a!important;border-bottom:1px solid rgba(15,23,42,.08)!important}[_nghost-%COMP%]   .btn-accept[_ngcontent-%COMP%], [_nghost-%COMP%]     .btn-accept{background:#9fe0a9!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}[_nghost-%COMP%]   .btn-cancel[_ngcontent-%COMP%], [_nghost-%COMP%]     .btn-cancel{background:#ef4444!important;color:#fff!important;border:1px solid rgba(0,0,0,.06)!important}.card-header--brand[_ngcontent-%COMP%]{background:linear-gradient(180deg,#eaf7ed,#d4f0d9)!important}.app-table--minwidth[_ngcontent-%COMP%]{min-width:980px}.text-wrap[_ngcontent-%COMP%]{white-space:normal;overflow-wrap:anywhere}.col-date[_ngcontent-%COMP%], .col-num[_ngcontent-%COMP%], .col-phone[_ngcontent-%COMP%], .col-status[_ngcontent-%COMP%], .col-actions[_ngcontent-%COMP%]{white-space:nowrap}.col-date[_ngcontent-%COMP%]{width:110px}.col-num[_ngcontent-%COMP%]{width:90px}.col-phone[_ngcontent-%COMP%], .col-status[_ngcontent-%COMP%]{width:120px}.col-actions[_ngcontent-%COMP%]{width:170px}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto}.section-subtitle[_ngcontent-%COMP%]{color:var(--muted-600);font-size:.85rem;margin:.2rem 0 .5rem}.table-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:.75rem;padding-top:.5rem;margin-top:.5rem;border-top:1px solid rgba(15,23,42,.06)}.table-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.table-footer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.4rem}.table-footer[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.25rem .45rem;border-radius:6px;border:1px solid rgba(15,23,42,.18);background:#fff}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.18rem .55rem;border-radius:999px;font-weight:600;font-size:.82rem;border:1px solid transparent}.status-pendiente[_ngcontent-%COMP%]{background:#fff7ed;color:#9a3412;border-color:#fb923c80}.status-confirmada[_ngcontent-%COMP%]{background:#ecfdf5;color:#065f46;border-color:#10b98180}.status-cancelada[_ngcontent-%COMP%]{background:#fef2f2;color:#7f1d1d;border-color:#ef444480}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#02061780;display:flex;align-items:center;justify-content:center;z-index:1100}"]})}return i})()}}]);