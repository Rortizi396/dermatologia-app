"use strict";(self.webpackChunkdermatologia_app=self.webpackChunkdermatologia_app||[]).push([[154],{8154:(J,b,c)=>{c.r(b),c.d(b,{DoctorPrescriptionComponent:()=>V});var O=c(4523),u=c(2200),s=c(9417),M=c(3985),y=c(7239),F=c.n(y),t=c(3664),a=c(2615),k=c(4796),w=c(8397),h=c(7673),f=c(9437),x=c(9330);let j=(()=>{class i{http;apiUrl=window.__env?.apiUrl||"/api";storageKey="med_catalog_local";constructor(e){this.http=e}search(e,o=10){const n=`${this.apiUrl}/medicamentos?q=${encodeURIComponent(e)}&limit=${o}`;return this.http.get(n).pipe((0,f.W)(()=>{const l=(this.readLocal()||[]).filter(g=>g.toLowerCase().includes(e.toLowerCase())).slice(0,o);return(0,h.of)({success:!0,data:l.map(g=>({nombre:g}))})}))}add(e){return this.http.post(`${this.apiUrl}/medicamentos`,{nombre:e}).pipe((0,f.W)(()=>{const n=new Set(this.readLocal());return n.add(e),this.writeLocal(Array.from(n.values())),(0,h.of)({success:!0})}))}readLocal(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch{return[]}}writeLocal(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e))}catch{}}static \u0275fac=function(o){return new(o||i)(a.KVO(x.Qq))};static \u0275prov=a.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var D=c(3711),P=c(6354),I=c(2771),S=c(7647);let E=(()=>{class i{http;cache$;base=window.__env?.apiUrl||"/api";constructor(e){this.http=e}list(){return this.cache$||(this.cache$=this.http.get(`${this.base}/doctores`).pipe((0,P.T)(e=>e?.data??e??[]),(0,f.W)(()=>(0,h.of)([])),function N(i,d,e){let o,n=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:d=1/0,refCount:n=!1,scheduler:e}=i):o=i??1/0,(0,S.u)({connector:()=>new I.m(o,d,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:n})}(1))),this.cache$}findByEmailOrName(e,o){return this.list().pipe((0,P.T)(n=>{if(!n||0===n.length)return null;const r=p=>(p||"").toString().trim().toLowerCase(),l=r(e),g=r(o);let m=n.find(p=>r(p.Correo||p.correo)===l);return m||g&&(m=n.find(p=>`${r(p.Nombres||p.nombres)} ${r(p.Apellidos||p.apellidos)}`.trim()===g),m)?m:null}))}static \u0275fac=function(o){return new(o||i)(a.KVO(x.Qq))};static \u0275prov=a.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const $=()=>[];function G(i,d){if(1&i&&(t.j41(0,"option",56),t.EFF(1),t.k0s()),2&i){const e=d.$implicit;t.Y8G("value",e.DPI),t.R7$(),t.Lme(" ",(e.Nombres||e.nombres||"")+" "+(e.Apellidos||e.apellidos||"")," \u2014 DPI: ",e.DPI," ")}}function R(i,d){if(1&i){const e=t.RV6();t.j41(0,"li",71),t.bIt("mousedown",function(n){return a.eBV(e),a.Njj(n.preventDefault())})("click",function(){const n=a.eBV(e).$implicit,r=t.XpG(2).index,l=t.XpG();return a.Njj(l.applySuggestion(r,n))}),t.EFF(1),t.k0s()}if(2&i){const e=d.$implicit,o=d.index,n=t.XpG(2).index,r=t.XpG();t.AVh("active",r.activeSuggestionIndex[n]===o),t.R7$(),t.JRh(e)}}function T(i,d){if(1&i&&(t.j41(0,"ul",69),t.DNE(1,R,2,3,"li",70),t.k0s()),2&i){const e=t.XpG().index,o=t.XpG();t.R7$(),t.Y8G("ngForOf",o.suggestions[e])}}function X(i,d){if(1&i){const e=t.RV6();t.j41(0,"tr",57)(1,"td",58),t.nrm(2,"input",59),t.k0s(),t.j41(3,"td",60)(4,"div",61)(5,"input",62),t.bIt("input",function(){const n=a.eBV(e).index,r=t.XpG();return a.Njj(r.onNameInput(n))})("focus",function(){const n=a.eBV(e).index,r=t.XpG();return a.Njj(r.onNameFocus(n))})("blur",function(){const n=a.eBV(e).index,r=t.XpG();return a.Njj(r.onNameBlur(n))})("keydown",function(n){const r=a.eBV(e).index,l=t.XpG();return a.Njj(l.onNameKeydown(r,n))}),t.k0s(),t.DNE(6,T,2,1,"ul",63),t.k0s()(),t.j41(7,"td",64),t.nrm(8,"input",65),t.k0s(),t.j41(9,"td",66)(10,"button",67),t.bIt("click",function(){const n=a.eBV(e).index,r=t.XpG();return a.Njj(r.removeItem(n))}),t.nrm(11,"i",68),t.k0s()()()}if(2&i){const e=d.index,o=t.XpG();t.Y8G("formGroupName",e),t.R7$(6),t.Y8G("ngIf",o.showSuggestions[e]&&(o.suggestions[e]||t.lJ4(3,$)).length>0),t.R7$(4),t.Y8G("disabled",o.items.length<=1)}}function A(i,d){1&i&&t.nrm(0,"span",72)}function U(i,d){if(1&i&&(t.j41(0,"div",73)(1,"div")(2,"strong"),t.EFF(3),t.k0s()(),t.j41(4,"div",40),t.EFF(5),t.k0s(),t.j41(6,"div",40),t.EFF(7),t.k0s(),t.nrm(8,"div",74),t.k0s()),2&i){let e,o,n;const r=d.$implicit;t.R7$(3),t.JRh((null==(e=r.get("nombre"))?null:e.value)||"\u2014"),t.R7$(2),t.SpI("",(null==(o=r.get("cantidad"))?null:o.value)||"\u2014"," unidades"),t.R7$(2),t.JRh((null==(n=r.get("dosis"))?null:n.value)||"\u2014")}}let V=(()=>{class i{fb;auth;toast;meds;patientsSvc;http;doctors;form;today=new Date;doctorName="";doctorEmail="";doctorColegiado="";maxItems=15;isGenerating=!1;logoPath="assets/favicon.svg";clinicPhone="4265-8975";clinicAddress="4ta calle 13-47 zona 3, segundo nivel";suggestions={};showSuggestions={};activeSuggestionIndex={};patients=[];selectedPatient=null;constructor(e,o,n,r,l,g,m){this.fb=e,this.auth=o,this.toast=n,this.meds=r,this.patientsSvc=l,this.http=g,this.doctors=m}ngOnInit(){const e=this.auth.currentUserValue;(!e||"doctor"!==String(e.tipo).toLowerCase())&&this.toast.show("Solo los doctores pueden generar recetas","error"),this.doctorName=`${e?.nombres||""} ${e?.apellidos||""}`.trim(),this.doctorEmail=e?.correo||"",this.doctorColegiado=e?.colegiado||"";const o=`${e?.nombres||""} ${e?.apellidos||""}`.trim();this.doctors.findByEmailOrName(e?.correo,o).subscribe(n=>{try{const r=(n?.Colegiado||n?.colegiado||"").toString().trim();r&&(this.doctorColegiado=r)}catch{}}),this.form=this.fb.group({fecha:[this.formatDate(this.today),[s.k0.required]],doctor:[{value:this.doctorName,disabled:!0}],pacienteDPI:["",[s.k0.required]],items:this.fb.array([this.createItem()]),observaciones:[""]}),this.patientsSvc.list(!1).subscribe(n=>{this.patients=n||[]})}get items(){return this.form.get("items")}createItem(){return this.fb.group({cantidad:[null,[s.k0.min(.01),s.k0.required]],nombre:["",[s.k0.required,s.k0.maxLength(255)]],dosis:["",[s.k0.required,s.k0.maxLength(255)]]})}addItem(){this.items.length>=this.maxItems||this.items.push(this.createItem())}removeItem(e){this.items.length<=1||this.items.removeAt(e)}onNameInput(e){const n=(this.items.at(e).get("nombre")?.value||"").toString().trim();if(!n)return this.suggestions[e]=[],void(this.showSuggestions[e]=!1);this.meds.search(n).subscribe({next:r=>{this.suggestions[e]=(r?.data||r||[]).map(l=>l.nombre||l.Nombre||l),this.showSuggestions[e]=(this.suggestions[e]?.length||0)>0,(this.activeSuggestionIndex[e]??-1)>=(this.suggestions[e]?.length||0)&&(this.activeSuggestionIndex[e]=-1)},error:r=>{this.suggestions[e]=[]}})}applySuggestion(e,o){this.items.at(e).get("nombre")?.setValue(o),this.suggestions[e]=[],this.showSuggestions[e]=!1,this.activeSuggestionIndex[e]=-1}onNameFocus(e){this.showSuggestions[e]=(this.suggestions[e]?.length||0)>0}onNameBlur(e){setTimeout(()=>{this.showSuggestions[e]=!1},120)}onNameKeydown(e,o){const n=this.suggestions[e]||[];if(n.length)if("ArrowDown"===o.key)o.preventDefault(),this.activeSuggestionIndex[e]=((this.activeSuggestionIndex[e]??-1)+1)%n.length,this.showSuggestions[e]=!0;else if("ArrowUp"===o.key){o.preventDefault();const r=this.activeSuggestionIndex[e]??-1;this.activeSuggestionIndex[e]=r<=0?n.length-1:r-1,this.showSuggestions[e]=!0}else if("Enter"===o.key){const r=this.activeSuggestionIndex[e]??-1;r>=0&&r<n.length&&(o.preventDefault(),this.applySuggestion(e,n[r]))}else"Escape"===o.key&&(o.preventDefault(),this.showSuggestions[e]=!1,this.activeSuggestionIndex[e]=-1)}canGenerate(){return this.form.valid&&this.items.length>0&&!this.isGenerating}formatDate(e){const o=n=>n.toString().padStart(2,"0");return`${e.getFullYear()}-${o(e.getMonth()+1)}-${o(e.getDate())}`}generatePdf(){var e=this;return(0,O.A)(function*(){if(e.canGenerate()){e.isGenerating=!0;try{const o=new Set;e.items.value.forEach(n=>{const r=(n.nombre||"").toString().trim();r&&o.add(r)});for(const n of o)try{yield e.meds.add(n).toPromise()}catch{}}catch{}try{const o=e.buildPayload();try{yield e.http.post((window.__env?.apiUrl||"/api")+"/recetas",o).toPromise()}catch(L){console.warn("[RECETAS] error al guardar",L),e.toast.show("No se pudo guardar la receta en el servidor","error")}const n=document.getElementById("rx-sheet");if(!n)return e.toast.show("No se encontr\xf3 la plantilla de la receta","error"),void(e.isGenerating=!1);const r=yield F()(n,{scale:2,useCORS:!0,backgroundColor:"#ffffff"}),l=r.toDataURL("image/png"),g=new M.Ay("p","pt","letter"),m=g.internal.pageSize.getWidth(),p=g.internal.pageSize.getHeight(),_=Math.min(m/r.width,p/r.height),C=r.width*_,v=r.height*_;g.addImage(l,"PNG",(m-C)/2,(p-v)/2,C,v,void 0,"FAST"),g.save(`receta_${e.formatDate(new Date)}.pdf`),e.toast.show("PDF generado correctamente")}catch(o){console.error("[PDF] error",o),e.toast.show("No se pudo generar el PDF","error")}finally{e.isGenerating=!1}}else e.toast.show("Completa los campos requeridos","error")})()}buildPayload(){const e=this.items.value.map(n=>({cantidad:Number(n.cantidad),nombre:(n.nombre||"").trim(),dosis:(n.dosis||"").trim()})),o=this.form.get("pacienteDPI")?.value;return{fecha:this.form.get("fecha")?.value,doctor:{nombre:this.doctorName,correo:this.doctorEmail,colegiado:this.doctorColegiado},paciente_dpi:o,observaciones:this.form.get("observaciones")?.value||"",items:e}}getSelectedPatient(){try{const e=this.form.get("pacienteDPI")?.value;return this.patients.find(n=>String(n.DPI)===String(e))||null}catch{return null}}getSelectedPatientName(){const e=this.getSelectedPatient();return`${e?.Nombres||e?.nombres||""} ${e?.Apellidos||e?.apellidos||""}`.trim()||"\u2014"}getSelectedPatientDPI(){const e=this.getSelectedPatient();return e?.DPI?String(e.DPI):"\u2014"}static \u0275fac=function(o){return new(o||i)(t.rXU(s.ok),t.rXU(k.u),t.rXU(w.f),t.rXU(j),t.rXU(D.X),t.rXU(x.Qq),t.rXU(E))};static \u0275cmp=t.VBU({type:i,selectors:[["app-doctor-prescription"]],decls:106,vars:17,consts:[[1,"container-xxl","py-3"],[1,"toolbar","d-flex","align-items-center","justify-content-between","p-2","mb-3","flex-wrap","gap-2"],[1,"m-0"],[1,"card",3,"formGroup"],[1,"card-body"],[1,"row","g-3","mb-3"],[1,"col-sm-4"],[1,"form-label"],["type","date","formControlName","fecha",1,"form-control"],[1,"col-sm-8"],["type","text","disabled","",1,"form-control",3,"value"],[1,"col-12","col-md-8"],["formControlName","pacienteDPI",1,"form-control"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click","disabled"],[1,"rx-table"],[1,"col-qty"],[1,"col-name"],[1,"col-dose"],[1,"col-actions"],[1,"small","text-muted"],["formArrayName","items"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"mt-3","obs-container"],[1,"form-label","d-block","mb-1"],["rows","3","formControlName","observaciones","placeholder","Indicaciones adicionales",1,"form-control"],[1,"mt-3","text-end"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["id","rx-sheet",1,"rx-sheet","print-template","visually-hidden"],[1,"rx-top"],[1,"rx-topbar","d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-center","gap-2"],["alt","logo",1,"rx-logo-sm",3,"src"],[1,"clinic-meta","small"],[1,"fw-semibold"],[1,"text-end"],[1,"rx-doctor-name"],[1,"small"],[1,"rx-curve"],["viewBox","0 0 800 90","preserveAspectRatio","none"],["d","M0,70 C220,10 420,110 800,20","fill","none","stroke","#1e40af","stroke-width","3"],[1,"rx-fields"],[1,"row-line"],[1,"fill-line"],[1,"rx-rp"],[1,"rx-watermark-img"],["alt","logo",3,"src"],[1,"rx-body","mt-2"],["class","rx-item",4,"ngFor","ngForOf"],[1,"rx-bottom","only-signature"],[1,"slot"],[1,"line"],[1,"label"],[3,"value"],[3,"formGroupName"],[1,"qty"],["type","number","placeholder","0.00","step","0.01","min","0.01","formControlName","cantidad",1,"form-control"],[1,"name"],[1,"input-suggest"],["type","text","placeholder","Nombre del medicamento","formControlName","nombre","autocomplete","off",1,"form-control",3,"input","focus","blur","keydown"],["class","list-group suggestions",4,"ngIf"],[1,"dose"],["type","text","placeholder","Indicaciones / Dosis","formControlName","dosis",1,"form-control"],[1,"actions","text-end"],["type","button","title","Eliminar",1,"btn","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-trash"],[1,"list-group","suggestions"],["class","list-group-item list-group-item-action",3,"active","mousedown","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"mousedown","click"],[1,"spinner-border","spinner-border-sm","me-1"],[1,"rx-item"],[1,"divider"]],template:function(o,n){if(1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"h5",2),t.EFF(3,"Generaci\xf3n de receta"),t.k0s()(),t.j41(4,"form",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),t.EFF(9,"Fecha"),t.k0s(),t.nrm(10,"input",8),t.k0s(),t.j41(11,"div",9)(12,"label",7),t.EFF(13,"Doctor"),t.k0s(),t.nrm(14,"input",10),t.k0s()(),t.j41(15,"div",5)(16,"div",11)(17,"label",7),t.EFF(18,"Paciente"),t.k0s(),t.j41(19,"select",12)(20,"option",13),t.EFF(21,"Seleccione un paciente"),t.k0s(),t.DNE(22,G,2,3,"option",14),t.k0s()()(),t.j41(23,"div",15)(24,"h6",2),t.EFF(25,"Medicamentos"),t.k0s(),t.j41(26,"button",16),t.bIt("click",function(){return n.addItem()}),t.EFF(27,"Agregar \xedtem"),t.k0s()(),t.j41(28,"table",17)(29,"colgroup"),t.nrm(30,"col",18)(31,"col",19)(32,"col",20)(33,"col",21),t.k0s(),t.j41(34,"thead")(35,"tr",22)(36,"th"),t.EFF(37,"Cantidad"),t.k0s(),t.j41(38,"th"),t.EFF(39,"Medicamento"),t.k0s(),t.j41(40,"th"),t.EFF(41,"Dosis"),t.k0s(),t.nrm(42,"th"),t.k0s()(),t.j41(43,"tbody",23),t.DNE(44,X,12,4,"tr",24),t.k0s()(),t.j41(45,"div",25)(46,"label",26),t.EFF(47,"Observaciones adicionales (opcional)"),t.k0s(),t.nrm(48,"textarea",27),t.k0s(),t.j41(49,"div",28)(50,"button",29),t.bIt("click",function(){return n.generatePdf()}),t.DNE(51,A,1,0,"span",30),t.EFF(52," Generar PDF "),t.k0s()()()(),t.j41(53,"div",31)(54,"div",32)(55,"div",33)(56,"div",34),t.nrm(57,"img",35),t.j41(58,"div",36)(59,"div",37),t.EFF(60,"Centro Dermatol\xf3gico"),t.k0s(),t.j41(61,"div"),t.EFF(62),t.k0s(),t.j41(63,"div"),t.EFF(64),t.k0s()()(),t.j41(65,"div",38)(66,"div",39),t.EFF(67),t.k0s(),t.j41(68,"div",40),t.EFF(69),t.k0s()()(),t.j41(70,"div",41),a.qSk(),t.j41(71,"svg",42),t.nrm(72,"path",43),t.k0s()()(),a.joV(),t.j41(73,"div",44)(74,"div",45)(75,"span"),t.EFF(76,"Nombre Paciente:"),t.k0s(),t.j41(77,"span",46),t.EFF(78),t.k0s()(),t.j41(79,"div",45)(80,"span"),t.EFF(81,"Direcci\xf3n:"),t.k0s(),t.j41(82,"span",46),t.EFF(83,"Ciudad"),t.k0s()(),t.j41(84,"div",45)(85,"div")(86,"span"),t.EFF(87,"DPI:"),t.k0s(),t.j41(88,"span",46),t.EFF(89),t.k0s()()(),t.j41(90,"div",45)(91,"span"),t.EFF(92,"Diagn\xf3stico:"),t.k0s(),t.j41(93,"span",46),t.EFF(94),t.k0s()()(),t.j41(95,"div",47),t.EFF(96,"Medicaci\xf3n y dosis"),t.k0s(),t.j41(97,"div",48),t.nrm(98,"img",49),t.k0s(),t.j41(99,"div",50),t.DNE(100,U,9,3,"div",51),t.k0s(),t.j41(101,"div",52)(102,"div",53),t.nrm(103,"div",54),t.j41(104,"div",55),t.EFF(105,"FIRMA"),t.k0s()()()()()),2&o){let r;t.R7$(4),t.Y8G("formGroup",n.form),t.R7$(10),t.Y8G("value",n.doctorName),t.R7$(8),t.Y8G("ngForOf",n.patients),t.R7$(4),t.Y8G("disabled",n.items.length>=n.maxItems),t.R7$(18),t.Y8G("ngForOf",n.items.controls),t.R7$(6),t.Y8G("disabled",!n.canGenerate()),t.R7$(),t.Y8G("ngIf",n.isGenerating),t.R7$(6),t.Y8G("src",n.logoPath,t.B4B),t.R7$(5),t.JRh(n.clinicAddress),t.R7$(2),t.SpI("Tel. ",n.clinicPhone),t.R7$(3),t.SpI("Dr(a). ",n.doctorName),t.R7$(2),t.SpI("Colegiado: ",n.doctorColegiado||"\u2014"),t.R7$(9),t.JRh(n.getSelectedPatientName()),t.R7$(11),t.JRh(n.getSelectedPatientDPI()),t.R7$(5),t.JRh((null==(r=n.form.get("observaciones"))?null:r.value)||""),t.R7$(4),t.Y8G("src",n.logoPath,t.B4B),t.R7$(2),t.Y8G("ngForOf",n.items.controls)}},dependencies:[u.MD,u.Sq,u.bT,s.YN,s.qT,s.xH,s.y7,s.me,s.Q0,s.wz,s.BC,s.cb,s.VZ,s.X1,s.j4,s.JD,s.$R,s.v8],styles:['.rx-table[_ngcontent-%COMP%]{width:100%;max-width:100%;table-layout:fixed;border-collapse:collapse;border-spacing:0}.rx-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;font-weight:500;padding:0 4px}.rx-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:0 4px;vertical-align:bottom}.rx-table[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%;height:38px}.rx-table[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.rx-table[_ngcontent-%COMP%]   col.col-qty[_ngcontent-%COMP%]{width:88px}.rx-table[_ngcontent-%COMP%]   col.col-name[_ngcontent-%COMP%]{width:28%}.rx-table[_ngcontent-%COMP%]   col.col-dose[_ngcontent-%COMP%]{width:calc(100% - (128px + 28%))}.rx-table[_ngcontent-%COMP%]   col.col-actions[_ngcontent-%COMP%]{width:44px}.rx-table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]{white-space:nowrap}.rx-table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]{padding-right:0}.rx-table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:32px;height:32px;padding:0;display:inline-flex;align-items:center;justify-content:center}.rx-table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;line-height:1}@media (max-width: 768px){.rx-table[_ngcontent-%COMP%], .rx-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .rx-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .rx-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], .rx-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .rx-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}.rx-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.rx-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border:1px solid var(--border-color, #e5e7eb);border-radius:8px;padding:8px;margin-bottom:10px}.rx-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 0}.rx-table[_ngcontent-%COMP%]   td.actions[_ngcontent-%COMP%]{text-align:right}}.obs-container[_ngcontent-%COMP%], .obs-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}.rx-sheet[_ngcontent-%COMP%]{background:#fff;color:#222;border:1px solid var(--border-color, #e5e7eb);border-radius:8px;padding:24px;position:relative;overflow:hidden}.rx-header[_ngcontent-%COMP%]   .rx-logo[_ngcontent-%COMP%]{width:56px;height:56px}.rx-logo-sm[_ngcontent-%COMP%]{width:42px;height:42px}.rx-hero-logo[_ngcontent-%COMP%]{width:90px;height:90px;opacity:.95}.rx-body[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:10px;border-bottom:1px dashed #d0d5dd;margin:8px 0 16px}.rx-watermark[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;font-size:96px;color:#0000000d;pointer-events:none;-webkit-user-select:none;user-select:none}.rx-header[_ngcontent-%COMP%]{margin-bottom:12px}.rx-hero[_ngcontent-%COMP%]{margin:6px 0 12px}.rx-body[_ngcontent-%COMP%]{margin-top:8px}.rx-body[_ngcontent-%COMP%]   .rx-item[_ngcontent-%COMP%] + .rx-item[_ngcontent-%COMP%]{margin-top:8px}.rx-footer[_ngcontent-%COMP%]{margin-top:64px}.rx-footer[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{height:28px;width:20%;min-width:140px;border-bottom:2px solid #111827;margin:0 auto 6px}.rx-topbar[_ngcontent-%COMP%]{margin-bottom:6px}.rx-curve[_ngcontent-%COMP%]{height:56px;margin-top:-8px}.rx-curve[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block}.rx-fields[_ngcontent-%COMP%]{margin-top:4px;margin-bottom:8px;font-size:12px}.rx-fields[_ngcontent-%COMP%]   .row-line[_ngcontent-%COMP%]{display:block;margin:6px 0}.rx-fields[_ngcontent-%COMP%]   .row-line.two-cols[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.rx-fields[_ngcontent-%COMP%]   .fill-line[_ngcontent-%COMP%]{display:inline-block;min-width:150px;border-bottom:1px solid #cbd5e1;margin-left:6px;padding:0 2px}.rx-rp[_ngcontent-%COMP%]{color:#1e40af;font-weight:600;margin:8px 0}.rx-watermark-img[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:.06;pointer-events:none}.rx-watermark-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px;object-fit:contain}.rx-bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-top:84px}.rx-bottom[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{width:40%;text-align:center}.rx-bottom[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{border-bottom:2px solid #111827;height:26px;margin:0 24px 6px}.rx-bottom[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;color:#111827;letter-spacing:.06em}.rx-footer-meta[_ngcontent-%COMP%]{margin-top:10px}.rx-bottom.only-signature[_ngcontent-%COMP%]{justify-content:center}.rx-bottom.only-signature[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{width:30%;min-width:180px}.input-suggest[_ngcontent-%COMP%]{position:relative}.suggestions[_ngcontent-%COMP%]{position:absolute;z-index:1000;width:100%;max-height:220px;overflow:auto;left:0;top:calc(100% + 2px);margin-top:0;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 6px 18px #00000014}.suggestions[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{cursor:pointer}.suggestions[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:hover, .suggestions[_ngcontent-%COMP%]   .list-group-item.active[_ngcontent-%COMP%]{background:#f1f5f9}[data-theme="dark"][_nghost-%COMP%]   .rx-sheet[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .rx-sheet[_ngcontent-%COMP%]{background:#0f172a;color:#e2e8f0;border-color:#1f2937}[data-theme="dark"][_nghost-%COMP%]   .rx-body[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .rx-body[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{border-bottom-color:#334155}[data-theme="dark"][_nghost-%COMP%]   .rx-footer[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%], [data-theme="dark"]   [_nghost-%COMP%]   .rx-footer[_ngcontent-%COMP%]   .signature[_ngcontent-%COMP%]{border-bottom-color:#e2e8f0}.rx-items[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:38px}.rx-items[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:right}.rx-items[_ngcontent-%COMP%]{display:block}.visually-hidden[_ngcontent-%COMP%]{position:absolute!important;left:-9999px!important;top:0!important;width:800px;max-width:1000px}.print-template[_ngcontent-%COMP%]{background:#fff}']})}return i})()}}]);