"use strict";(self.webpackChunkdermatologia_app=self.webpackChunkdermatologia_app||[]).push([[41],{4041:(F,a,i)=>{i.r(a),i.d(a,{RegisterComponent:()=>g});var e=i(4341),m=i(2200),l=i(8132),r=i(3664),u=i(9885),p=i(3488);const c=()=>["/login"];function d(o,v){if(1&o&&(r.j41(0,"div",16),r.EFF(1),r.k0s()),2&o){const t=r.XpG();r.R7$(),r.JRh(t.error)}}function f(o,v){if(1&o&&(r.j41(0,"div",17),r.EFF(1),r.k0s()),2&o){const t=r.XpG();r.R7$(),r.JRh(t.success)}}let g=(()=>{class o{fb;userService;router;registerForm;loading=!1;error="";success="";constructor(t,s,n){this.fb=t,this.userService=s,this.router=n,this.registerForm=this.fb.group({dpi:["",e.k0.required],nombres:["",e.k0.required],apellidos:["",e.k0.required],telefono:["",e.k0.required],correo:["",[e.k0.required,e.k0.email]],password:["",e.k0.required],activo:[!0]})}onSubmit(){this.registerForm.valid&&(this.loading=!0,this.error="",this.success="",this.userService.createUser({correo:this.registerForm.value.correo,password:this.registerForm.value.password,tipo:"paciente",nombres:this.registerForm.value.nombres,apellidos:this.registerForm.value.apellidos,telefono:this.registerForm.value.telefono,dpi:this.registerForm.value.dpi,activo:this.registerForm.value.activo}).subscribe({next:s=>{this.success="Registro exitoso. Ahora puedes iniciar sesi\xf3n.",this.loading=!1,setTimeout(()=>this.router.navigate(["/login"]),1500)},error:s=>{this.error=s.error?.message||"Error al registrar usuario",this.loading=!1}}))}static \u0275fac=function(s){return new(s||o)(r.rXU(e.ok),r.rXU(u.D),r.rXU(p.Ix))};static \u0275cmp=r.VBU({type:o,selectors:[["app-register"]],decls:35,vars:6,consts:[[1,"form-container"],[1,"form-title"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],["type","text","formControlName","dpi",1,"form-input"],["type","text","formControlName","nombres",1,"form-input"],["type","text","formControlName","apellidos",1,"form-input"],["type","text","formControlName","telefono",1,"form-input"],["type","email","formControlName","correo",1,"form-input"],["type","password","formControlName","password",1,"form-input"],["type","submit",1,"form-button",3,"disabled"],["class","form-error","style","margin-top: 0.5rem;",4,"ngIf"],["class","form-success","style","margin-top: 0.5rem;",4,"ngIf"],[1,"form-link",2,"margin-top","1rem"],[3,"routerLink"],[1,"form-error",2,"margin-top","0.5rem"],[1,"form-success",2,"margin-top","0.5rem"]],template:function(s,n){1&s&&(r.j41(0,"div",0)(1,"h2",1),r.EFF(2,"Registro de Paciente"),r.k0s(),r.j41(3,"form",2),r.bIt("ngSubmit",function(){return n.onSubmit()}),r.j41(4,"div",3)(5,"label",4),r.EFF(6,"DPI"),r.k0s(),r.nrm(7,"input",5),r.k0s(),r.j41(8,"div",3)(9,"label",4),r.EFF(10,"Nombres"),r.k0s(),r.nrm(11,"input",6),r.k0s(),r.j41(12,"div",3)(13,"label",4),r.EFF(14,"Apellidos"),r.k0s(),r.nrm(15,"input",7),r.k0s(),r.j41(16,"div",3)(17,"label",4),r.EFF(18,"Tel\xe9fono"),r.k0s(),r.nrm(19,"input",8),r.k0s(),r.j41(20,"div",3)(21,"label",4),r.EFF(22,"Email"),r.k0s(),r.nrm(23,"input",9),r.k0s(),r.j41(24,"div",3)(25,"label",4),r.EFF(26,"Contrase\xf1a"),r.k0s(),r.nrm(27,"input",10),r.k0s(),r.j41(28,"button",11),r.EFF(29,"Registrarse"),r.k0s(),r.DNE(30,d,2,1,"div",12)(31,f,2,1,"div",13),r.k0s(),r.j41(32,"div",14)(33,"a",15),r.EFF(34,"\xbfYa tienes cuenta? Inicia sesi\xf3n"),r.k0s()()()),2&s&&(r.R7$(3),r.Y8G("formGroup",n.registerForm),r.R7$(25),r.Y8G("disabled",n.loading),r.R7$(2),r.Y8G("ngIf",n.error),r.R7$(),r.Y8G("ngIf",n.success),r.R7$(2),r.Y8G("routerLink",r.lJ4(5,c)))},dependencies:[e.X1,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,m.MD,m.bT,l.iI,l.Wk,e.YN],encapsulation:2})}return o})()}}]);